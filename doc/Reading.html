<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="doc.css" media="all">
		<title>
			claire : Reading
		</title>
		<style>
body {
        font-size: 14px;
        font-family: arial, Helvetica;
}

h1 { font-size: 25px; }
h2 { font-size: 20px; }

a[href] {
	border-bottom: 1px dotted grey;
	text-decoration: none
}

.doc_paragraph
{
        font-size: 14px;
        font-family: arial, helvetica;
}

.item_header { font-size: 10px; page-break-before: avoid; page-break-inside: avoid; page-break-after: avoid }

.item_index {
		white-space: pre;
        font-size: 11px;
        font-family: monaco, courier, mono-space;
}

.table_code {
		margin: 10px auto;
}

.doc_code {
    white-space: pre;
		padding-top: .1em;
		padding-bottom: .5em;
		background-color: #EEE;
		border: #AAA solid 1px;
        font-size: 11px;
        font-family: monaco, courier, mono-space;
}

.opt_usage {
		margin-left: 1em;
		margin-right: 1em;
		padding: .2em;
		background-color: #EEE;
		border: #AAA solid 1px;
        font-family: monaco, courier, mono-space;
	
}

.class_proto {
	vertical-align: top;
	text-align: right;
}

.class_proto_super {
	vertical-align: top;
	text-align: right;
}

.class_proto_slot {
	vertical-align: top;
	text-align: left;
}

</style>
	</head>
	<body><table width='100%' class='item_header'>
		<tr>
			<td width='33%' align='left' valign='bottom'><i><a href='WCL syntax.html#4611703562330647858'>WCL syntax</a></i></td>
			<td width='33%' align='center' valign='top'><i><a href='claire.index.html#__category_index__'>categories</a><br/><a href='claire.index.html#4611703562330381162'>I/O, Modules and System Interface</a><br/><b>Reading</b>
				</i></td>
			<td width='33%' align='right' valign='bottom'><i><a href='Symbols.html#4611703562330752450'>Symbols</a></i></td>
		</tr>
	</table>
	<h2><span class=pretitle>&nbsp;</span>&nbsp;<a name='4611703562330686242'>Reading</a>
			</h2>
	<ul></ul><ul></ul><p align='justify' class='doc_paragraph'> <a href='Communication ports.html#4611703562330381170'><font color='#'>Files</font></a> can be <a href='Classes.html#4611703562330997570'><font color='#'>read</font></a> one expression at a <a href='Dates and Times.html#4611703562329044610'><font color='#'>time</font></a>&nbsp;: <a href='Classes.html#4611703562330997570'><font color='#'>read</font></a>(p:<a href='Communication ports.html#4611703562330381170'><font color='#'>port</font></a>) reads the next CLAIRE expression
 on the <a href='Communication ports.html#4611703562330381170'><font color='#'>port</font></a> p or, in a single step, load(s:<a href='Strings.html#4611703562329046802'><font color='#'>string</font></a>) reads the <a href='Communication ports.html#4611703562330381170'><font color='#'>file</font></a> associated to the
 <a href='Strings.html#4611703562329046802'><font color='#'>string</font></a> s and evaluates it. It returns true when no problem occurred while loading the
 <a href='Communication ports.html#4611703562330381170'><font color='#'>file</font></a> and false otherwise. A variant of this <a href='Methods.html#4611703562329657810'><font color='#'>method</font></a> is the <a href='Methods.html#4611703562329657810'><font color='#'>method</font></a> sload(s:<a href='Strings.html#4611703562329046802'><font color='#'>string</font></a>) which
 does the same thing but prints the expression <a href='Classes.html#4611703562330997570'><font color='#'>read</font></a> and the result of their evaluation.
 Another variant is the <a href='Methods.html#4611703562329657810'><font color='#'>method</font></a> oload(s:<a href='Strings.html#4611703562329046802'><font color='#'>string</font></a>) which does the same thing but substitute
 an optimized form to each <a href='Methods.html#4611703562329657810'><font color='#'>method</font></a>'s body. This may hinder the inspection of the code at the
 toplevel, but it will increase the efficiency of the interpreter.</p><p align='justify' class='doc_paragraph'> <a href='Communication ports.html#4611703562330381170'><font color='#'>Files</font></a> may contain comments. A comment is anything that follows a // until the <a href='Modules.html#4611703562330901554'><font color='#'>end</font></a> of
 the line. When <a href='Reading.html#4611703562330686242'><font color='#'>reading</font></a>, the CLAIRE reader will ignore comments (they will <a href='Objects and Entities.html#4611703562331135010'><font color='#'>not</font></a> be <a href='Classes.html#4611703562330997570'><font color='#'>read</font></a>
 and hence <a href='Objects and Entities.html#4611703562331135010'><font color='#'>not</font></a> evaluated). For instance&nbsp;:
 </p><table class='table_code' align=center border=0 width='85%'>
										<tr><td class='doc_code'> x&nbsp;:+ 1, // increments x by 1
</td></tr></table>
							  <p align='justify' class='doc_paragraph'> To insure compatibility with earlier versions, CLAIRE also recognizes lines that <a href='Modules.html#4611703562330901474'><font color='#'>begin</font></a> with ';'
 as comments. Conversely, CLAIRE also support the C syntax for <a href='Blocks.html#4611703562329281186'><font color='#'>block</font></a> comments: anything between
 /* and */ will be taken as a comment. Comments in CLAIRE may become active comments that behave
 like trace statements if they <a href='Modules.html#4611703562330901474'><font color='#'>begin</font></a> with [&lt;level&gt;] (see appendix B). The <a href='Global Variables and Constants.html#4611703562330797874'><font color='#'>global</font></a> variable
 NeedComment may be turned to true (it is false by default) to tell the reader to place any comment
 found before the definition of a <a href='Classes.html#4611703562329058722'><font color='#'>class</font></a> or a <a href='Methods.html#4611703562329657810'><font color='#'>method</font></a> in the comment <a href='Calls and Slot Access.html#4611703562329242514'><font color='#'>slot</font></a> of the associated CLAIRE
 <a href='Objects and Entities.html#4611703562329047202'><font color='#'>object</font></a>.</p><p align='justify' class='doc_paragraph'> The second <a href='Types.html#4611703562329661362'><font color='#'>type</font></a> of special instructions are immediate <a href='Conditionals.html#4611703562329295330'><font color='#'>conditionals</font></a>. An immediate conditional
 is defined with the same syntax as a regular conditional but with a #if instead of an if&nbsp;:
 </p><table class='table_code' align=center border=0 width='85%'>
										<tr><td class='doc_code'> #if &lt;test&gt; &lt;expression&gt;
 	&lt; else &lt;expression&gt; &gt;<sup>opt </sup></td></tr></table>
							  <p align='justify' class='doc_paragraph'> When the reader finds such an expression, it evaluates the test. If the value is true, then
 the reader behaves as if it had <a href='Classes.html#4611703562330997570'><font color='#'>read</font></a> the first expression, otherwise it behaves as if it had
 <a href='Classes.html#4611703562330997570'><font color='#'>read</font></a> the second expression (or nothing if there is no else). This is useful for implementing
 variants (such as <a href='Debugging.html#4611703562330885970'><font color='#'>debugging</font></a> versions). For instance&nbsp;:</p><p align='justify' class='doc_paragraph'> </p><table class='table_code' align=center border=0 width='85%'>
										<tr><td class='doc_code'> #if debug printf("the value of x is ~S", x)
</td></tr></table>
							  <p align='justify' class='doc_paragraph'> Note that the expression can be a <a href='Blocks.html#4611703562329281186'><font color='#'>block</font></a> (within parentheses) which is necessary to place a
 definition (like a <a href='Rules.html#4611703562330281586'><font color='#'>rule</font></a> definition) inside a #if. <a href='Lists_comma Sets and Tuples.html#4611703562331141458'><font color='#'>Last</font></a>, there exists another pre-processing
 directive for loading a <a href='Communication ports.html#4611703562330381170'><font color='#'>file</font></a> within a <a href='Communication ports.html#4611703562330381170'><font color='#'>file</font></a>: #include(s) loads the <a href='Communication ports.html#4611703562330381170'><font color='#'>file</font></a> as if it was included
 in the <a href='Communication ports.html#4611703562330381170'><font color='#'>file</font></a> in which the #include is <a href='Classes.html#4611703562330997570'><font color='#'>read</font></a>.</p><p align='justify' class='doc_paragraph'> There are a few differences between CLAIRE and C++ or Java parsing that need to be underlined&nbsp;:
 </p>
							  <ul> <li>Spaces are important since they act as a delimiter. In particular, a space cannot be inserted
 between a <a href='Selectors_comma Properties and Operations.html#4611703562330122642'><font color='#'>selector</font></a> and its arguments in a <a href='Calls and Slot Access.html#4611703562331060722'><font color='#'>call</font></a>. Here is a simple example&nbsp;:
 </p><table class='table_code' align=center border=0 width='85%'>
										<tr><td class='doc_code'> foo (1,2,3) // this is <a href='Objects and Entities.html#4611703562331135010'><font color='#'>not</font></a> correct, one must <a href='Classes.html#4611703562330997666'><font color='#'>write</font></a> foo(1,2,3)
</td></tr></table>
							  <p align='justify' class='doc_paragraph'> <li>= is for equality and&nbsp;:= for assignment. This is standard in pseudo-code notations because
 it is less ambiguous
 <li>characters such as +, *, -, etc. do <a href='Objects and Entities.html#4611703562331135010'><font color='#'>not</font></a> have a special status. This allows the user to
 use them in a variable name (such as x+y). However, this is <a href='Objects and Entities.html#4611703562331135010'><font color='#'>not</font></a> advisable since it is
 ambiguous for many readers. A consequence is that spaces are needed around <a href='Selectors_comma Properties and Operations.html#4611703562330122642'><font color='#'>operations</font></a> within
 arithmetic examples such as&nbsp;:
 </p><table class='table_code' align=center border=0 width='85%'>
										<tr><td class='doc_code'> x + (y * z) // instead of x+y*z which is taken as (one) variable name
</td></tr></table>
							  <p align='justify' class='doc_paragraph'> <li>The character '/' plays a special role for namespace (<a href='Modules.html#4611703562330762722'><font color='#'>module</font></a>) membership
 </ul>
							  <p align='justify' class='doc_paragraph'></p></body>
	</html>