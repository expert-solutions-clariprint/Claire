<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="doc.css" media="all">
		<title>
			claire : Dates and Times
		</title>
		<style>
body {
        font-size: 14px;
        font-family: arial, Helvetica;
}

h1 { font-size: 25px; }
h2 { font-size: 20px; }

a[href] {
	border-bottom: 1px dotted grey;
	text-decoration: none
}

.doc_paragraph
{
        font-size: 14px;
        font-family: arial, helvetica;
}

.item_header { font-size: 10px; page-break-before: avoid; page-break-inside: avoid; page-break-after: avoid }

.item_index {
		white-space: pre;
        font-size: 11px;
        font-family: monaco, courier, mono-space;
}

.table_code {
		margin: 10px auto;
}

.doc_code {
    white-space: pre;
		padding-top: .1em;
		padding-bottom: .5em;
		background-color: #EEE;
		border: #AAA solid 1px;
        font-size: 11px;
        font-family: monaco, courier, mono-space;
}

.opt_usage {
		margin-left: 1em;
		margin-right: 1em;
		padding: .2em;
		background-color: #EEE;
		border: #AAA solid 1px;
        font-family: monaco, courier, mono-space;
	
}

.class_proto {
	vertical-align: top;
	text-align: right;
}

.class_proto_super {
	vertical-align: top;
	text-align: right;
}

.class_proto_slot {
	vertical-align: top;
	text-align: left;
}

</style>
	</head>
	<body><table width='100%' class='item_header'>
		<tr>
			<td width='33%' align='left' valign='bottom'><i><a href='Integers and Floats.html#4611703602811416978'>Integers and Floats</a></i></td>
			<td width='33%' align='center' valign='top'><i><a href='claire.index.html#__category_index__'>categories</a><br/><a href='claire.index.html#4611703602811417002'>Primitives</a><br/><b>Dates and Times</b>
				</i></td>
			<td width='33%' align='right' valign='bottom'><i><a href='Chars.html#4611703602811418802'>Chars</a></i></td>
		</tr>
	</table>
	<h2><span class=pretitle>&nbsp;</span>&nbsp;<a name='4611703602811418498'>Dates and Times</a>
			 <font color='red'>[XL]</font></h2>
	<ul></ul><ul><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813279522'>date_add</a>(<font color='green'>d</font><font color='blue'>:</font>float, <font color='green'>c</font><font color='blue'>:</font>char, <font color='green'>i</font><font color='blue'>:</font>integer)<font color='blue'> -&gt; </font>float <font color='red'>[XL]</font></font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813280354'>diff_time</a>(<font color='green'>d1</font><font color='blue'>:</font>float, <font color='green'>d2</font><font color='blue'>:</font>float)<font color='blue'> -&gt; </font>float <font color='red'>[XL]</font></font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813309762'>elapsed</a>(<font color='green'>t</font><font color='blue'>:</font>float)<font color='blue'> -&gt; </font>integer <font color='red'>[XL]</font></font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813282802'>explode</a>(<font color='green'>t</font><font color='blue'>:</font>float)<font color='blue'> -&gt; </font>tuple(integer, 1 .. 12, 1 .. 365, 1 .. 31, 1 .. 7, 0 .. 23, 0 .. 59, 0 .. 59, boolean) <font color='red'>[XL]</font></font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813294322'>make_date</a>(<font color='green'>s</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>float <font color='red'>[XL]</font></font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813294194'>make_date</a>(<font color='green'>D</font><font color='blue'>:</font>integer, <font color='green'>M</font><font color='blue'>:</font>integer, <font color='green'>Y</font><font color='blue'>:</font>integer, <font color='green'>h</font><font color='blue'>:</font>integer, <font color='green'>m</font><font color='blue'>:</font>integer, <font color='green'>s</font><font color='blue'>:</font>integer)<font color='blue'> -&gt; </font>float <font color='red'>[XL]</font></font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813294386'>make_time</a>(<font color='green'>s</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>float <font color='red'>[XL]</font></font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813294450'>make_time</a>(<font color='green'>h</font><font color='blue'>:</font>integer, <font color='green'>m</font><font color='blue'>:</font>integer, <font color='green'>s</font><font color='blue'>:</font>integer)<font color='blue'> -&gt; </font>float <font color='red'>[XL]</font></font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813308098'>strftime</a>(<font color='green'>f</font><font color='blue'>:</font>string, <font color='green'>d</font><font color='blue'>:</font>float)<font color='blue'> -&gt; </font>string <font color='red'>[XL]</font></font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813510386'>time_get</a>()<font color='blue'> -&gt; </font>integer</font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813510482'>time_set</a>()<font color='blue'> -&gt; </font>void</font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813510530'>time_show</a>()<font color='blue'> -&gt; </font>void</font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813309666'>timer!</a>()<font color='blue'> -&gt; </font>float <font color='red'>[XL]</font></font></li><li><font font-face='Courier' class='item_index'><a href='Dates and Times.html#4611703602813309842'>uptime</a>(<font color='green'>t</font><font color='blue'>:</font>float)<font color='blue'> -&gt; </font>void <font color='red'>[XL]</font></font></li></ul><p align='justify' class='doc_paragraph'> Dates and times are represented using <a href='Integers and Floats.html#4611703602811416978'><font color='#'>floats</font></a> containing an UNIX C time that is
 the time in seconds since the Epoch (00:00:00 UTC, January 1, 1970). The use of
 <a href='Integers and Floats.html#4611703602811416978'><font color='#'>float</font></a> is required since CLAIRE <a href='Integers and Floats.html#4611703602811416978'><font color='#'>integer</font></a> are coded on 30 bits and times on 32 bits.</p><p align='justify' class='doc_paragraph'> Internally, CLAIRE always handles dates represented in UTC.
 Times are referenced on the Epoch such the arithmetic between date and time can
 be made with the standard <a href='Integers and Floats.html#4611703602811416978'><font color='#'>float</font></a> arithmetic.</p><p align='justify' class='doc_paragraph'> Two kind of timer are also supported, one that account time in the
 process time (<a href='Dates and Times.html#4611703602813510482'><font color='#'>time_set</font></a>/<a href='Dates and Times.html#4611703602813510386'><font color='#'>time_get</font></a>) and one that count in real time (<a href='Dates and Times.html#4611703602813309666'><font color='#'>timer!</font></a>/<a href='Dates and Times.html#4611703602813309762'><font color='#'>elapsed</font></a>).</p><a name='4611703602813279522'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='date_add'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i><font color='red'>[XL]</font> Kernel method</i></td>
	</tr></table><h3>date_add(<font color='green'>d</font><font color='blue'>:</font>float, <font color='green'>c</font><font color='blue'>:</font>char, <font color='green'>i</font><font color='blue'>:</font>integer)<font color='blue'> -&gt; </font>float</h3><p align='justify' class='doc_paragraph'> date_add(<b>d</b>, <b>c</b>, <b>i</b>) returns the <a href='Dates and Times.html#4611703602811418498'><font color='#'>date</font></a> <b>d</b> incremented by <b>i</b>, where the unit of the increment
 depends on <b>c</b>&nbsp;:
 </p>
							  <ul> <li>'H' or 'h' to increment hours
 <li>'M' to increment minutes
 <li>'S', 's' to increment seconds
 <li>'D', '<b>d</b>' to increment days
 <li>'m' to increment months
 <li>'Y' or 'y' to increment years
 </ul>
							  <p align='justify' class='doc_paragraph'></p><a name='4611703602813280354'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='diff_time'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i><font color='red'>[XL]</font> Kernel method</i></td>
	</tr></table><h3>diff_time(<font color='green'>d1</font><font color='blue'>:</font>float, <font color='green'>d2</font><font color='blue'>:</font>float)<font color='blue'> -&gt; </font>float</h3><p align='justify' class='doc_paragraph'> diff_time(<b>d1</b>, <b>d2</b>) returns the <a href='Lists_comma Sets and Tuples.html#4611703602813515986'><font color='#'>difference</font></a> <b>d1</b> - <b>d2</b> in seconds.</p><a name='4611703602813309762'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='elapsed'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i><font color='red'>[XL]</font> Kernel method</i></td>
	</tr></table><h3>elapsed(<font color='green'>t</font><font color='blue'>:</font>float)<font color='blue'> -&gt; </font>integer</h3><p align='justify' class='doc_paragraph'> elapsed(<b>t</b>) returns the <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a> in millisecond (accounted in real <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a>) that has
 elapsed since the <a href='Calls and Slot Access.html#4611703602813434610'><font color='#'>call</font></a> to <a href='Dates and Times.html#4611703602813309666'><font color='#'>timer!</font></a>()</p><a name='4611703602813282802'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='explode'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i><font color='red'>[XL]</font> Kernel method</i></td>
	</tr></table><h3>explode(<font color='green'>t</font><font color='blue'>:</font>float)<font color='blue'> -&gt; </font>tuple(integer, 1 .. 12, 1 .. 365, 1 .. 31, 1 .. 7, 0 .. 23, 0 .. 59, 0 .. 59, boolean)</h3><p align='justify' class='doc_paragraph'> explode(<b>t</b>) explodes the calendar <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a> <b>t</b> in <a href='Integers and Floats.html#4611703602811416978'><font color='#'>integers</font></a>. The returned value
 is a <a href='Lists_comma Sets and Tuples.html#4611703602811651298'><font color='#'>tuple</font></a> made of&nbsp;:
 </p>
							  <ul> <li>the year
 <li>the month
 <li>day of year (where January 1st is day 1)
 <li>day of the month
 <li>day of the week
 <li>hour
 <li>minute
 <li>second
 <li>and a boolean that tell whether summer <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a> is in effect
 </ul>
							  <p align='justify' class='doc_paragraph'></p><a name='4611703602813294322'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='make_date'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i><font color='red'>[XL]</font> Kernel method</i></td>
	</tr></table><h3>make_date(<font color='green'>s</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>float</h3><p align='justify' class='doc_paragraph'> make_date(<b>s</b>) parses the <a href='Strings.html#4611703602811420690'><font color='#'>string</font></a> <b>s</b> and tries to create a <a href='Dates and Times.html#4611703602811418498'><font color='#'>date</font></a> with it
 according to RFC 1123</p><a name='4611703602813294194'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='make_date'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i><font color='red'>[XL]</font> Kernel method</i></td>
	</tr></table><h3>make_date(<font color='green'>D</font><font color='blue'>:</font>integer, <font color='green'>M</font><font color='blue'>:</font>integer, <font color='green'>Y</font><font color='blue'>:</font>integer, <font color='green'>h</font><font color='blue'>:</font>integer, <font color='green'>m</font><font color='blue'>:</font>integer, <font color='green'>s</font><font color='blue'>:</font>integer)<font color='blue'> -&gt; </font>float</h3><p align='justify' class='doc_paragraph'> make_date(<b>D</b>,<b>M</b>,<b>Y</b>,<b>h</b>,<b>m</b>,<b>s</b>) returns the <a href='Dates and Times.html#4611703602811418498'><font color='#'>date</font></a> <b>D</b>/<b>M</b>/<b>Y</b> <b>h</b>:<b>m</b>:<b>s</b> where months are one
 based index (<b>M</b> = 1 is January).</p><a name='4611703602813294386'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='make_time'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i><font color='red'>[XL]</font> Kernel method</i></td>
	</tr></table><h3>make_time(<font color='green'>s</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>float</h3><p align='justify' class='doc_paragraph'> make_time(<b>s</b>) parses the <a href='Strings.html#4611703602811420690'><font color='#'>string</font></a> <b>s</b> and tries to create a <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a> with it</p><a name='4611703602813294450'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='make_time'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i><font color='red'>[XL]</font> Kernel method</i></td>
	</tr></table><h3>make_time(<font color='green'>h</font><font color='blue'>:</font>integer, <font color='green'>m</font><font color='blue'>:</font>integer, <font color='green'>s</font><font color='blue'>:</font>integer)<font color='blue'> -&gt; </font>float</h3><p align='justify' class='doc_paragraph'> returns the <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a> constructed with the given hours, minutes and seconds</p><a name='4611703602813308098'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='strftime'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i><font color='red'>[XL]</font> Kernel method</i></td>
	</tr></table><h3>strftime(<font color='green'>f</font><font color='blue'>:</font>string, <font color='green'>d</font><font color='blue'>:</font>float)<font color='blue'> -&gt; </font>string</h3><p align='justify' class='doc_paragraph'> strftime(<b>f</b>,<b>d</b>) is a wrapper for the C lib strftime.
 <b>f</b> may contain formatters introduced by the '<a href='Types.html#4611703602813314370'><font color='#'>%</font></a>' (see man).</p><a name='4611703602813510386'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='time_get'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i>Core method</i></td>
	</tr></table><h3>time_get()<font color='blue'> -&gt; </font>integer</h3><p align='justify' class='doc_paragraph'> time_get() stops a clock started by <a href='Dates and Times.html#4611703602813510482'><font color='#'>time_set</font></a>() it and returns the <a href='Dates and Times.html#4611703602813309762'><font color='#'>elapsed</font></a> <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a> in milliseconds.</p><a name='4611703602813510482'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='time_set'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i>Core method</i></td>
	</tr></table><h3>time_set()<font color='blue'> -&gt; </font>void</h3><p align='justify' class='doc_paragraph'> time_set() starts a clock that will have to be stopped with <a href='Dates and Times.html#4611703602813510386'><font color='#'>time_get</font></a>().</p><a name='4611703602813510530'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='time_show'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i>Core method</i></td>
	</tr></table><h3>time_show()<font color='blue'> -&gt; </font>void</h3><p align='justify' class='doc_paragraph'> time_show pretty prints the current value of a timer started by <a href='Dates and Times.html#4611703602813510482'><font color='#'>time_set</font></a>().</p><a name='4611703602813309666'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='timer!'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i><font color='red'>[XL]</font> Kernel method</i></td>
	</tr></table><h3>timer!()<font color='blue'> -&gt; </font>float</h3><p align='justify' class='doc_paragraph'>  timer!() return the current <a href='Dates and Times.html#4611703602811418498'><font color='#'>date</font></a> <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a> in second with millisecond granularity.
 That is a real <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a> clock is started, the returned value may be used with
 <a href='Dates and Times.html#4611703602813309762'><font color='#'>elapsed</font></a> or <a href='Dates and Times.html#4611703602813309842'><font color='#'>uptime</font></a> to <a href='Classes.html#4611703602813371346'><font color='#'>get</font></a> the <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a> <a href='Dates and Times.html#4611703602813309762'><font color='#'>elapsed</font></a> since the timer! <a href='Calls and Slot Access.html#4611703602813434610'><font color='#'>call</font></a>.</p><a name='4611703602813309842'><hr size=0 style='page-break-after: avoid' /></a>
	<a name='uptime'><hr size=0 /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='claire.index.html#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='Dates and Times.html#4611703602811418498'>Dates and Times</a></i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i><font color='red'>[XL]</font> Kernel method</i></td>
	</tr></table><h3>uptime(<font color='green'>t</font><font color='blue'>:</font>float)<font color='blue'> -&gt; </font>void</h3><p align='justify' class='doc_paragraph'> uptime(x) prints on the current output a human readable version of the <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a> <a href='Dates and Times.html#4611703602813309762'><font color='#'>elapsed</font></a>
 (accounted in real <a href='Dates and Times.html#4611703602811418498'><font color='#'>time</font></a>) since <a href='Dates and Times.html#4611703602813309666'><font color='#'>timer!</font></a> with millisecond granularity.</p></body>
	</html>